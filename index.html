<!doctype html>
<html lang = "en">
	<head>
		<meta charset="utf-8">
        <meta name = "viewport" content = "width=device-width, initial-scale = 1">
		<title>Neighborhood Map</title>
		<link rel = "stylesheet" href = "bower_components/bootstrap/dist/css/bootstrap.min.css" media = "screen">
		<link rel = "stylesheet" href = "css/style.css">
	</head>
	<body>
		<!-- Controls -->
		<div>
			<form role="search">
	             <input type="text" class="form-control" id="searchField" placeholder="Search">
	           	<a data-bind="click: resetSearch" id="clear-search" href="#"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span></a>
		    </form>
				<div class="btn-group btn-group-sm" id="dollarInput" role="group">
					<button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">Price <span class="caret"></span>
					</button>
					<select multiple="true" size="4" class="dropdown-menu filter-dollar" data-bind="options: filters.availablePrice, selectedOptions: filters.price">
					</select>

				</div>
				<div class="btn-group btn-group-sm" id="ratingInput" role="group">
					<button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">Ratings <span class="caret"></span>
					</button>
					<input type="number" class="dropdown-menu filter-rating" placeholder="1<n<9" id="ratingInput" min="1" max="9" data-bind="value: filters.rating">
				</div>
				<div id="filterBtn" class="btn-group-sm" data-bind="click: filterResults">
					<button type="button" class="btn btn-default filter-btn">Filter</button>
				</div>
		</div>
		<!-- Google Map -->
		<div id = "map">
		</div>
		<!-- List Results -->
		<ul class = "list-group" id = "side-list" data-bind = "visible: listVisible, foreach: locations.markersInfo">
			<li data-bind="event: {mouseover: $parent.showMarker.bind($data, $parent.hoverMarker), mouseout: $parent.removeMarker.bind($data, $parent.hoverMarker), click: $parent.showDetail.bind($data,$parent.selectedMarker)}" class = "list-group-item">
				<div class="list-group-item-textGroup">
					<p data-bind="text: name" class="list-group-item-title"></p>
					<div>
						<!-- ko if: rating -->
						<span data-bind="text: rating"></span> -
						<!-- /ko -->
						<!-- ko if: types -->
						 <span data-bind="text: types[0].name"></span>
						<!-- /ko -->
						<!-- ko if: price -->
						 - <span data-bind="text: price"></span>
						<!-- /ko -->
					</div>
					<p data-bind="text: address"></p>
				</div>
				<div data-bind="if: photo" class="info-img">
					<img height="80" width="80" alt="location image" data-bind="attr: {src: photo.pre + '80x80' + photo.suf}">
				</div>
			</li>
		</ul>

		<!-- Item Details -->
		<div id="list-detail" data-bind="visible: detailVisible, with: selectedMarkerInfo" >
			<div data-bind="if: photo" class="info-img">
				<img height="285" width="380" alt="location image" data-bind="attr: {src: photo.pre + '285x380' + photo.suf}">
			</div>
			<div>
				<h3 data-bind="text: name"></h3>
				<h5 data-bind="text: address"></h5>
				<div data-bind="if: website"><a target="_blank" class="webLink" data-bind="text: website, attr:{href: website}"></a></div>
				<div data-bind="if: phone"><h5><i class="glyphicon glyphicon-phone-alt"></i><span data-bind="text: phone.formattedPhone"></span></h5></div>
				<div data-bind="if: hours"><h5><i class="glyphicon glyphicon-time"></i><span data-bind="text: hours.status"></span></h5></div>
			</div>
			<div data-bind="if: types[0]==='locality'">
				<hr>
				<h5>Wikipedia Quick Facts:</h5>
				<h6 data-bind="text: $parent.wikiText"></h6>
			</div>
		</div>

		<script src = "bower_components/jquery/dist/jquery.min.js"></script>
		<script src = "bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
		<script src = "bower_components/knockout/dist/knockout.js"></script>
		<script	src="https://maps.googleapis.com/maps/api/js?region=US&key=AIzaSyA8fuDDvxtlbFvtbiZJ7KqQiZiqlCSTRfk&libraries=places"></script>
        <script src = "js/script.js"></script>

    </body>
</html>
